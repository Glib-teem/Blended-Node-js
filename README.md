# Blended-Node-js 1.1

TASK 1
Проєкт має базову структуру і налаштування.
Створи middleware для обробки помилок:
Створи файл src/middlewares/errorHandler.js;
Middleware errorHandler призначений для обробки помилок у Express-сервері та має приймати чотири аргументи;
У разі виявлення помилки errorHandler має відправити клієнту відповідь зі статусом 500 та об’єкт з наступними властивостями:

{
message: повідомлення про помилку,
}

Застосуй middleware errorHandler у файлі src/server.js;
Створи і застосувати у файлі src/server.js middleware notFoundHandler, призначений для обробки запитів, коли клієнт звертається до неіснуючого маршруту. notFoundHandler у разі виявлення помилки має відправити клієнту відповідь зі статусом 404 та об’єкт з наступними властивостями:

      {
        message: "Route not found"
    }

Створи і застосуй у файлі src/server.js middleware logger для логування HTTP-запитів за допомогою pino-http.

TASK 2
Створи свій кластер в mongodb для колекції продуктів (products) та запиши усі необхідні дані для його підключення у змінні оточення. Назви змінних візьми з файлу env.example.
В папці src/db створи модель продукту Product, що буде включати в себе такі поля:
name - string, required
price - number, required
category - string, enum('books', 'electronics', 'clothing', 'other'), required, default 'other'
description - string, optional
createdAt - дата створення
updatedAt - дата оновлення
Для останніх двох полів можна використати параметр timestamps: true при створенні моделі.
Імпортуй базовий набір продуктів із файлу src/db/products.json до бази, користуючись будь-яким UI інтерфейсом (в браузері, Mongo Compass тощо). Переконайтеся, що назва колекції в коді моделі та в візуальному інтерфейсі співпадають.

TASK 3
Створи роут GET /products для отримання масиву усіх продуктів.
Обробка цього роута має включати:
Реєстрацію загального роута продуктів в файлі src/server.js
Реєстрацію роута в файлі src/routers/products.js
Опис контролера для цього роута в файлі src/controllers/products.js
У разі вдалої обробки запиту відповідь сервера має бути зі статусом 200 та містити масив продуктів.

TASK 4
Створи роут GET /products/productId для отримання даних одного продукта по його ідентифікатору.
Обробка цього роута має включати:
Реєстрацію роута в файлі src/routers/products.js
Опис контролера для цього роута в файлі src/controllers/products.js
У разі вдалої обробки запиту відповідь сервера має бути зі статусом 200 та містити об’єкт відповідного продукту.
Додай перевірку чи продукт за переданим ідентифікатором було знайдено. Якщо продукт не було знайдено, то використовуючи бібліотеку createHttpError поверніть відповідь зі сатусом 404 і повідомленням 'Product not found'.
На цьому етапі не потрібно перевіряти невалідний MongoDB ID у цьому модулі. Припускаємо, що ID завжди валідний

TASK 5
Створи роут POST /products для створення нового продукту. Тіло запиту має в себе включати наступні властивості:
name - обов’язково;
price - обов’язково;
category - обов’язково;
description - не обов’язково;
Обробка цього роута має включати:
Реєстрацію роута в файлі src/routers/products.js
Опис контролера для цього роута в файлі src/controllers/products.js
У разі вдалої обробки запиту і успішного створення нового продукту відповідь сервера має бути зі статусом 201 та містити створений об’єкт продукту.

TASK 6
Створи роут PATCH /products/productId для оновлення даних одного продукту по його ідентифікатору. Тіло запиту має містити наступні властивості:
name - не обов’язково;
price - не обов’язково;
category - не обов’язково;
description - не обов’язково;
Обробка цього роута має включати:
Реєстрацію роута в файлі src/routers/products.js
Опис контролера для цього роута в файлі src/controllers/products.js
У разі вдалої обробки запиту і успішного оновлення продукту відповідь сервера має бути зі статусом 200 та містити оновлений об’єкт продукту.
Додай перевірку чи продукт за переданим ідентифікатором було знайдено. Якщо продукт не було знайдено, то використовуючи бібліотеку createHttpError повернути відповідь зі статусом 404 і повідомленням "Product not found".
На даному етапі не потрібно перевіряти невалідний MongoDB ID у цьому модулі. Припускаємо, що ID завжди валідний

TASK 7
Створи роут DELETE /products/productId для видалення одного продукта по його ідентифікатору.
Обробка цього роута має включати:
Реєстрацію роута в файлі src/routers/products.js
Опис контролера для цього роута в файлі src/controllers/products.js
У разі вдалої обробки запиту і успішного видалення продукту відповідь сервера має бути зі статусом 200 та містити видалений об’єкт продукту.
Додай перевірку чи продукт за переданим ідентифікатором було знайдено. Якщо продукт не було знайдено, то використовуючи бібліотеку createHttpError повернути відповідь зі статусом 404 і повідомленням 'Note not found'.
